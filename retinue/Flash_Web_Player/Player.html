<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>

<head>
    <meta content="text/html; charset=GBK" http-equiv="Content-Type">
    <link href="/retinue/favicon.ico" rel="shortcut icon">
    <title>Flash Web Player</title>
</head>

<body bottommargin="0" leftmargin="0" oncontextmenu="return false" ondragstart="return false"
      onselect="document.selection.empty()" onselectstart="return false"
      rightmargin="0" scroll="no" topmargin="0">
<p align="center">
    <object id="flashgame" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"
            codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=7,0,19,0"
            height="100%"
            width="100%">
        <param name="movie" value="game.swf">
        <param name="quality" value="high">
        <param name="allowScriptAccess" value="always">
        <param name="allowNetworking" value="all">
        <embed id="player" allownetworking="all" allowscriptaccess="always"
               height="100%" pluginspage="http://www.macromedia.com/go/getflashplayer"
               quality="high" src="game.swf" type="application/x-shockwave-flash" width="100%">
    </object>
</p>

</body>
<script>
    function query(key) {
        let m = window.location.href.match(new RegExp(`(\\?|&)${key}=[^&]*`))

        if (m == null) return null
        else return m[0].split("=")[1]
    }

    let q
    // 读取标题
    q = query("title")
    if (q) {
        document.title = decodeURI(q)
    }
    // 从URL参数读取游戏名
    q = query("load")
    if (q) {
        document.getElementById("player").setAttribute("src", q)
    }
</script>
</html>
